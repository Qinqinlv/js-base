<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>数组的API方式遍历</title>
</head>

<body>
    <script>
    var arr = ["关长", "张飞", "赵龙", "马超", "黄忠"];
// 这里有几个遍历数组的函数：
// 1.every()函数的返回值是一个布尔值。如果这个every()函数在遍历每个子元素的时候，其中有一个元素返回的是false，那么马上停止遍历，并且every()函数的返回值也是false.



    //every()函数的返回值是一个boolean类型值。它的参数是一个回调函数。
       var bool = arr.every(function (element,index,array) {

       	// 第一个参数是数组arr中的每一个元素;index是每一个元素的索引；array是调用 every函数的数组本身。
       	
    //        element = "aaa";
    //        array[index] = "aaa";
    //        console.log(element);
    //        console.log(index);
    //        console.log(array);
    //        return true;
           if(element.length>2){
               return false;
               // 如果遇到一个元素的长度大于2，那么马上停止遍历并返回false。
           }
           return true;
       });
    
    //    alert(bool);






// 2.filter()函数用于过滤

    //filter()的返回值是一个新数组。这个新数组的成员是filter()的回调函数中，return为true的项组合而成的。
   
       var arr1 = arr.filter(function (ele,index,array) {
       	// filter()函数也有3个参数。第一个ele是数组中每一项；第二个index是数组中每一项的索引；第三个调用filter()的数组本身。
       	
           if(ele.length > 2){
               return true;
           }
           // 新返回的数组的项就是：长度大于2的arr1中的每一项
           return false;
       });
    
       console.log(arr1);






// 3.forEach()用于纯遍历数组，类似于for(var i = 0 ;;)形式。纯操作数组中的元素。

    //foreach遍历数组(无返回值，纯操作数组中的元素)
       var str = "";
       arr.forEach(function (ele,index,array) {

       	// 也有3个参数，参数表示内容和上面的every()、filter()函数一样。
       	
           str+=ele;
       });
       alert(str);





// 4.map()函数用于将对每一项操作的返回值，放到一个数组中。

    //map有返回值，返回什么都添加到新数组中。
       var arr2 = arr.map(function (ele,index,array) {
           return ele+"你好";
       })
    
       console.log(arr2);



// 5.some()函数 ：遍历数组中的每一项的时候，只要其中有一项的返回值是true，那么这个some()函数的返回值就是true。这个some()函数和前面的every()函数是相反的。

    //some有返回值，函数结果有一个是true，本方法结果也是true。
       var flag = arr.some(function (ele,index,array) {
           if(ele.length>2){
               return true;
           }
           return false;
       })
    
    //    alert(flag);
    </script>
</body>

</html>
